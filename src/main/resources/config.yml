# MySQL Database Configuration
database:
  host: localhost
  port: 3306
  database: minecraft
  username: user
  password: password

  # A list of JDBC properties to apply.
  # These are recommended, but you can change/add/remove as needed.
  properties:
    useSSL: false
    allowPublicKeyRetrieval: true

  # HikariCP Connection Pool Settings
  # These settings are optimized for resilience and performance.
  # It is recommended to leave these at their default values unless you are an experienced administrator.
  pool-settings:
    maximum-pool-size: 10
    minimum-idle: 10
    max-lifetime: 1800000 # 30 minutes
    connection-timeout: 5000 # 5 seconds
    idle-timeout: 600000 # 10 minutes

  # Redis Configuration
  # Enable Redis for fast caching during server switches
  redis:
    # Enable Redis integration (true/false)
    enabled: false
    
    # Redis server connection details
    host: localhost
    port: 6379
    password: ""  # Leave empty if no password
    
    # Connection settings
    timeout-ms: 2000
    
    # Cache settings
    cache-duration-seconds: 300  # How long to cache player data in Redis
    
    # Storage strategy options:
    # mysql-only: Use only MySQL (traditional mode)
    # redis-mysql-hybrid: Use Redis for caching, MySQL for persistence
    storage-strategy: "mysql-only"
  
  # MySQL JDBC Optimizations
  # These are advanced settings for the MySQL driver.
  # Do not change these unless you know what you are doing.
  optimizations:
    cache-prep-stmts: true
    prep-stmt-cache-size: 250
    prep-stmt-cache-sql-limit: 2048
    use-server-prep-stmts: true
    use-local-session-state: true
    rewrite-batched-statements: true
    cache-result-set-metadata: true
    cache-server-configuration: true
    elide-set-auto-commits: true
    maintain-time-stats: false

# Set to true to enable verbose debugging messages in the server console.
# This can be useful for diagnosing issues, but should be false for normal operation.
debug: false

# A unique name for this server. This is CRITICAL for data locking.
# Each server connected to the same database MUST have a unique name.
# Example: "survival-1", "creative", "lobby"
server-id: "default-server"

# Set to prefix the player_data table (e.g., 'hmt_sync_').
table-prefix: ""

# The duration in milliseconds after which a player data lock is considered expired.
# This prevents players from being permanently locked out if a server crashes.
# Default: 60000 (1 minute)
lock-timeout: 60000

# The interval in seconds between lock updates (heartbeats) while a player is online.
# Default: 30
lock-heartbeat-seconds: 30

# Granular Data Synchronization Toggles
# Enable or disable synchronization for specific data components.
sync-data:
  health: true
  food-level: true
  experience: true
  inventory: true
  armor: true
  potion-effects: true
  ender-chest: false
  location: false
  advancements: false
  economy: false
  playtime: false

# Server/World Blacklist
# Data synchronization will be disabled for players on these servers or in these worlds.
sync-blacklist:
  servers:
    - "example-blacklisted-server"
  worlds:
    - "example_world_nether"

